# ============================================
# Server Configuration
# ============================================
server.port=${PORT:8080}

# Session configurations
server.servlet.session.timeout=30m
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.same-site=lax

# ============================================
# PostgreSQL Configuration (Render + Local)
# ============================================
# Render variables:
# DATABASE_URL = postgresql://user:password@host/dbname
# PGHOST, PGUSER, PGPASSWORD also available

# Convert DATABASE_URL to JDBC automatically
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://${PGHOST:localhost}:5432/jwtdb_753u}

spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${PGUSER:postgres}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${PGPASSWORD:Phoenix@84}}
spring.datasource.driver-class-name=org.postgresql.Driver

# ============================================
# JPA / Hibernate
# ============================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# ============================================
# Thymeleaf
# ============================================
spring.thymeleaf.cache=false

# ============================================
# JWT (miniOrange)
# ============================================
jwt.public-key=-----BEGIN PUBLIC KEY-----\n\
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsSKksJcuQbZm/cw67JJk\n\
Hvlzrzd3+aPLhfqy/FCKj/BmZ7mBZf0s3+89O0rOamsZP1NKzOE29ZL6ONLJHxU4\n\
8LUbGciZupm/wf7dY/Av34uDcZ61ufKz0u17UTxgjLULIWBy//68EOr4Xbm/4bqh\n\
mKcB3CclMaom0LWeCrqittiLqunVCjFIbxXMT010WiBBnFwqjUqfuMnVLL+HrPPq\n\
gPqNhiKDdxBxHk9GDPq2+GEruM1jw7TUjVa+zbhekvdNTbj2Fo2sqf+mIkFLSaS6\n\
cHg0UeL7sX0wvQFDMwx+hpfRLMcYpFAmRMn3dI2zUnPgwvWeKHrnNOjHVkRTV4hg\n\
ZQIDAQAB\n\
-----END PUBLIC KEY-----

jwt.secret=${JWT_SECRET:defaultHS256Secret12345}
jwt.expiration=86400000
jwt.expected-issuer=ZFIEjkKKgDLCjK1kHYjGoEq96e29bRts

# ============================================
# Logging
# ============================================
logging.level.root=INFO
logging.level.org.springframework.security=DEBUG
logging.level.com.ssoapp=DEBUG
logging.level.com.ssoapp.controller.JwtCallbackController=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.ssoapp.controller=DEBUG
logging.level.org.springframework.web.client.RestTemplate=DEBUG
