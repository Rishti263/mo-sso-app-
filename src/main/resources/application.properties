# Server Configuration
server.port=8080

# PostgreSQL Configuration
spring.datasource.url=jdbc:postgresql://dpg-d4dehnur433s73e26li0-a:5432/jwtdb_753u
spring.datasource.username=jwtdb_753u_user
spring.datasource.password=cY83c9jLqn68eGhr1i2YNapMEY3KSmfM
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Thymeleaf Configuration
spring.thymeleaf.cache=false

# ============================================
# JWT Configuration for miniOrange SSO
# ============================================

# RS256 Public Key (Extracted from miniOrange Certificate)
jwt.public-key=-----BEGIN PUBLIC KEY-----\n\
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsSKksJcuQbZm/cw67JJk\n\
Hvlzrzd3+aPLhfqy/FCKj/BmZ7mBZf0s3+89O0rOamsZP1NKzOE29ZL6ONLJHxU4\n\
8LUbGciZupm/wf7dY/Av34uDcZ61ufKz0u17UTxgjLULIWBy//68EOr4Xbm/4bqh\n\
mKcB3CclMaom0LWeCrqittiLqunVCjFIbxXMT010WiBBnFwqjUqfuMnVLL+HrPPq\n\
gPqNhiKDdxBxHk9GDPq2+GEruM1jw7TUjVa+zbhekvdNTbj2Fo2sqf+mIkFLSaS6\n\
cHg0UeL7sX0wvQFDMwx+hpfRLMcYpFAmRMn3dI2zUnPgwvWeKHrnNOjHVkRTV4hg\n\
ZQIDAQAB\n\
-----END PUBLIC KEY-----

# HS256 Secret (Backup - only used if RS256 fails)
jwt.secret=LUxkIhkbfeM4Ieuf5UpUsDyGmQqSXyd2RxTnVkYp0s3v6w9zBCEFHJKMNPQ

# JWT Token Expiration (milliseconds) - 24 hours
jwt.expiration=86400000

# Expected Issuer (from your JWT token - validates token is from miniOrange)
jwt.expected-issuer=ZFIEjkKKgDLCjK1kHYjGoEq96e29bRts

# Expected Audience (optional - uncomment if needed)
# jwt.expected-audience=your-app-client-id

# ============================================
# Security & Session Configuration
# ============================================

# Session timeout (30 minutes)
server.servlet.session.timeout=30m

# Session cookie configuration
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.same-site=lax

# ============================================
# Logging Configuration
# ============================================

# General logging level
logging.level.root=INFO

# Spring Security debugging
logging.level.org.springframework.security=DEBUG

# Your application debugging
logging.level.com.ssoapp=DEBUG

# JWT Controller specific logging
logging.level.com.ssoapp.controller.JwtCallbackController=DEBUG

# Hibernate SQL logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

logging.level.com.ssoapp.controller=DEBUG
logging.level.org.springframework.web.client.RestTemplate=DEBUG